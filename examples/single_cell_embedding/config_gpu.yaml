general:
  project_name: scembed_gpu_comparison
  mamba_env: scembed
  entity: spatial_vi
  modules: stack eth_proxy

slurm:
  time: "01:00:00"
  mem_per_cpu: "16G"
  job_name: scembed_gpu
  output: slurm_logs/gpu_%A_%a.out
  array: "0-4"
  gpus: rtx_4090:1

wandb:
  program: train.py
  method: grid
  name: gpu_methods
  metric:
    goal: maximize
    name: scib_total_score
  parameters:
    method:
      values: ["harmony", "scvi", "scanvi", "scpoli"]

    # Method-specific parameters (nested structure)
    harmony:
      parameters:
        theta:
          values: [1.0, 2.0, 5.0]

    scvi:
      parameters:
        n_latent:
          values: [10, 30, 50]
        n_layers:
          values: [1, 2]

    scanvi:
      parameters:
        n_latent:
          values: [10, 30]
        n_layers:
          value: 2
        max_epochs_scanvi:
          values: [20, 50]

    scpoli:
      parameters:
        embedding_dims:
          values: [5, 10]
        n_epochs:
          value: 50
        pretraining_epochs:
          value: 40
